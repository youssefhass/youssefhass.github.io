function initTheme(){const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;e?document.documentElement.setAttribute("data-theme",e):t||document.documentElement.setAttribute("data-theme","light")}function toggleTheme(){const e=document.documentElement.getAttribute("data-theme"),t="light"===e?"dark":"light";"dark"===t?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)}initTheme();const sections=[{id:"about-container",file:"sections/about.html"},{id:"projects-container",file:"sections/projects.html"},{id:"skills-container",file:"sections/skills.html"},{id:"blog-container",file:"sections/blog.html"},{id:"contact-container",file:"sections/contact.html"}];async function loadSections(){const e=sections.map(async e=>{try{const t=await fetch(e.file);if(t.ok){const o=await t.text(),n=document.getElementById(e.id);n&&(n.innerHTML=o)}}catch(t){console.error(`Error loading ${e.file}:`,t)}});await Promise.all(e),initializeAfterLoad()}function initializeAfterLoad(){const e=document.getElementById("navbar"),t=document.getElementById("hamburger"),o=document.getElementById("nav-menu"),n=document.querySelectorAll(".nav-link"),a=document.querySelectorAll("section"),r=document.getElementById("contactForm"),s=document.getElementById("theme-toggle");s&&s.addEventListener("click",toggleTheme),t.addEventListener("click",()=>{t.classList.toggle("active"),o.classList.toggle("active")}),n.forEach(e=>{e.addEventListener("click",()=>{t.classList.remove("active"),o.classList.remove("active")})});let l=0;window.addEventListener("scroll",()=>{window.pageYOffset>50?e.classList.add("scrolled"):e.classList.remove("scrolled"),l=window.pageYOffset});const c={root:null,rootMargin:"-20% 0px -80% 0px",threshold:0},i=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.getAttribute("id");n.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")===`#${t}`&&e.classList.add("active")})}})},c);a.forEach(e=>{i.observe(e)});const d=document.querySelectorAll(".project-card, .skill-category, .volunteer-card, .about-stats .stat"),u={root:null,rootMargin:"0px",threshold:.1},m=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},u);d.forEach((e,t)=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition=`opacity 0.5s ease ${.1*t}s, transform 0.5s ease ${.1*t}s`,m.observe(e)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));if(t){const e=t.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:e,behavior:"smooth"})}})}),r&&r.addEventListener("submit",e=>{e.preventDefault();const t=new FormData(r),o=t.get("name"),n=t.get("email"),a=t.get("message"),s=encodeURIComponent(`Portfolio Contact from ${o}`),l=encodeURIComponent(`Name: ${o}\nEmail: ${n}\n\nMessage:\n${a}`);window.location.href=`mailto:youssefhass@gmail.com?subject=${s}&body=${l}`;const c=r.querySelector('button[type="submit"]'),i=c.textContent;c.textContent="Opening Email Client...",c.disabled=!0,setTimeout(()=>{c.textContent=i,c.disabled=!1,r.reset()},2e3)});const g=document.querySelector(".hero-subtitle");if(g){const e=g.textContent;g.textContent="";let t=0;setTimeout(function o(){t<e.length&&(g.textContent+=e.charAt(t),t++,setTimeout(o,50))},800)}const p=document.querySelector(".hero-blob");p&&window.addEventListener("mousemove",e=>{const t=30*(e.clientX/window.innerWidth-.5),o=30*(e.clientY/window.innerHeight-.5);p.style.transform=`translate(${t}px, ${o}px) scale(1)`}),console.log("%c Welcome to Youssef Hassan's Portfolio! ","background: #3d32c2; color: white; font-size: 16px; padding: 10px; border-radius: 5px;"),console.log("%c Senior Data Engineer | MBCS ","color: #17bbfc; font-size: 12px;")}document.addEventListener("DOMContentLoaded",loadSections);